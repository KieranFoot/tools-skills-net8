Broadcasting Real-Time Communication Using SignalR 482 await Groups.AddToGroupAsync(user.ConnectionId, group); } } // Send a message to the registering user informing of success. MessageModel message = new() { From = "SignalR Hub", To = user.Name, Body = string.Format( "You have successfully {0} with connection ID {1}.", arg0: action, arg1: user.ConnectionId) }; IClientProxy proxy = Clients.Client(user.ConnectionId); await proxy.SendAsync("ReceiveMessage", message); } public async Task SendMessage(MessageModel message) { IClientProxy proxy; if (string.IsNullOrEmpty(message.To)) { message.To = "Everyone"; proxy = Clients.All; await proxy.SendAsync("ReceiveMessage", message); return; } // Split To into a list of user and group names. string[] userAndGroupList = message.To.Split(','); // Each item could be a user or group name. foreach (string userOrGroup in userAndGroupList) { if (Users.ContainsKey(userOrGroup)) { // If the item is in Users then send the message to that user // by looking up their connection ID in the dictionary. message.To = $"User: {Users[userOrGroup].Name}"; 