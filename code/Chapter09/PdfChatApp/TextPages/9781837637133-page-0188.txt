Chapter 4 155 // // else store the category mapped to Cosmos model. category = p.Category == null ? null : new CategoryCosmos { categoryId = p.Category.CategoryId, categoryName = p.Category.CategoryName, description = p.Category.Description }, supplier = p.Supplier == null ? null : new SupplierCosmos { supplierId = p.Supplier.SupplierId, companyName = p.Supplier.CompanyName, contactName = p.Supplier.ContactName, contactTitle = p.Supplier.ContactTitle, address = p.Supplier.Address, city = p.Supplier.City, country = p.Supplier.Country, postalCode = p.Supplier.PostalCode, region = p.Supplier.Region, phone = p.Supplier.Phone, fax = p.Supplier.Fax, homePage = p.Supplier.HomePage }, unitPrice = p.UnitPrice, unitsInStock = p.UnitsInStock, reorderLevel = p.ReorderLevel, unitsOnOrder = p.UnitsOnOrder, discontinued = p.Discontinued, }) .ToArray(); foreach (ProductCosmos product in products) { try { // Try to read the item to see if it exists. ItemResponse<ProductCosmos> productResponse = await container.ReadItemAsync<ProductCosmos>( 