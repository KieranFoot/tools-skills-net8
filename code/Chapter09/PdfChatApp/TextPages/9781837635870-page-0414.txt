Chapter 7 395 Letâ€™s publish our console app: 1. At the command prompt or terminal for the AotConsole project, publish the console app using native AOT, as shown in the following command: dotnet publish 2. Note the message about generating native code, as shown in the following output: MSBuild version 17.8.0+4ce2ff1f8 for .NET Determining projects to restore... Restored C:\cs12dotnet8\Chapter07\AotConsole\AotConsole.csproj (in 173 ms). AotConsole -> C:\cs12dotnet8\Chapter07\AotConsole\bin\Release\net8.0\ win-x64\AotConsole.dll Generating native code AotConsole -> C:\cs12dotnet8\Chapter07\AotConsole\bin\Release\net8.0\ win-x64\publish\ 3. Start File Explorer, open the bin\Release\net8.0\win-x64\publish folder, and note the AotConsole.exe file is about 1.2 MB. The AotConsole.pdb file is only needed for debugging. AotConsole.exe and note the console app has the same behavior as before. 4. Run the Program.cs, import namespaces to work with dynamic code assemblies, as shown in the 5. In following code: using System.Reflection; // To use AssemblyName. using System.Reflection.Emit; // To use AssemblyBuilder. 6. In Program.cs, create a dynamic assembly builder, as shown in the following code: AssemblyBuilder ab = AssemblyBuilder.DefineDynamicAssembly( new AssemblyName("MyAssembly"), AssemblyBuilderAccess.Run); 7. At the command prompt or terminal for the AotConsole project, publish the console app using native AOT, as shown in the following command: dotnet publish 8. Note the warning about calling the DefineDynamicAssembly method, which the .NET team has decorated with the [RequiresDynamicCode] attribute, as shown in the following output: C:\cs12dotnet8\Chapter07\AotConsole\Program.cs(9,22): warning IL3050: Using member 'System.Reflection.Emit.AssemblyBuilder. DefineDynamicAssembly(AssemblyName, AssemblyBuilderAccess)' which has 'RequiresDynamicCodeAttribute' can break functionality when AOT compiling. Defining a dynamic assembly requires dynamic code. [C:\ cs12dotnet8\Chapter07\AotConsole\AotConsole.csproj] 