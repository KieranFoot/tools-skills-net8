Building and Consuming Web Services 698 â€¢ The ability to negotiate the media type of content exchanged in requests and responses, such as XML and JSON. Content negotiation happens when the client specifies a request header like Accept: application/xml,*/*;q=0.8. The default response format used by the ASP.NET Core Web API is JSON, which means one of the response headers would be Content-Type: . application/json; charset=utf-8 Web services, aka Web APIs, use the HTTP communication standard, so they are sometimes called HTTP or RESTful services. HTTP or RESTful services are what this chapter is about. Understanding HTTP requests and responses for Web APIs HTTP defines standard types of requests and standard codes to indicate a type of response. Most of them can be used to implement Web API services. The most common type of request is GET, to retrieve a resource identified by a unique path, with additional options like what media type is acceptable set as a request header, like Accept, as shown in the following example: GET /path/to/resource Accept: application/json Common responses include success and multiple types of failure, as shown in Table 14.1: Status code Description The requester has asked the server to switch protocols and the server has agreed 101 Switching to do so. For example, it is common to switch from HTTP to WebSockets (WS) Protocols for more efficient communication. Used to convey hints that help a client make preparations to process the final response. For example, the server might send the following response before then sending a normal 200 OK response for a web page that uses a stylesheet and JavaScript file: 103 Early Hints HTTP/1.1 103 Early Hints Link: </style.css>; rel=preload; as=style Link: </script.js>; rel=preload; as=script The path was correctly formed, the resource was successfully found, serialized into an acceptable media type, and then returned in the response body. The 200 OK response headers specify the Content-Type, Content-Length, and Content- Encoding, for example, GZIP. Over time, a web service may change its resource model, including the path 301 Moved used to identify an existing resource. The web service can indicate the new path Permanently by returning this status code and a response header named Location that has the new path. 302 Found Like 301. 