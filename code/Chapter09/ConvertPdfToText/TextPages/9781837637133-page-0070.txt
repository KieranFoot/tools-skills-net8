Chapter 2 37 Connecting to a SQL Server database To connect to a SQL Server database, we need to know multiple pieces of information, as shown in the following list: • The name of the server (and the name of the instance if it has more than the default one). This can include the protocol, IP address, and port number if connecting over a network. • The name of the database. • Security information, such as the username and password, or if we should pass the currently logged-on user’s credentials automatically using Windows Authentication. We specify this information in a connection string. For backward compatibility, there are multiple possible keywords we can use in a SQL Server connec- tion string for the various parameters, as shown in the following list: Data Source, server, or addr: These keywords are the name of the server (and an optional • instance). You can use a dot (.) to mean the local server. Initial Catalog or database: These keywords are the name of the database that will be • active initially. A SQL statement could change that using the command: USE <databasename>. Integrated Security or trusted_connection: These keywords are set to true or SSPI to pass • the thread’s current user credentials using Windows Authentication. User Id and Password: These keywords are used to authenticate with any edition of SQL Serv- • er. This is important for Azure SQL Database or Azure SQL Edge because they do not support Windows Authentication. The full edition of SQL Server on Windows supports both username with password and Windows Authentication. Authentication: This keyword is used to authenticate by using Azure AD identities that can • enable password-less authentication. Values can be Active Directory Integrated, Active , and Sql Password. Directory Password Persist Security Info: If set to false, this keyword tells the connection to remove the • Password from the connection string after authenticating. Encrypt: If set to true, this keyword tells the connections to use SSL to encrypt transmissions • between client and server. TrustServerCertificate: Set to true if hosting locally and you get the error “A connection • was successfully established with the server, but then an error occurred during the login process. (provider: SSL Provider, error: 0 - The certificate chain was issued by an authority that is not trusted.)”. Connection Timeout: This keyword defaults to 30 seconds. • MultipleActiveResultSets: This keyword is set to true to enable a single connection to be • used to work with multiple tables simultaneously to improve efficiency. It is used for lazy loading rows from related tables. 