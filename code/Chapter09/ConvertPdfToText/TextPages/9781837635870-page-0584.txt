Chapter 10 565 Query for customers in Germany Alfreds Futterkiste, 030-7432 Alfreds Futterkiste, 030-9876 Alfreds Futterkiste, 030-9876 Alfreds Futterkiste, 030-9876 Change telephone in local entity Alfreds Futterkiste, 030-7432 Alfreds Futterkiste, 030-9876 Alfreds Futterkiste, 030-9876 Alfreds Futterkiste, 030-1928 Alfreds Futterkiste, 030-9876 Save changes Alfreds Futterkiste, 030-7432 Alfreds Futterkiste, 030-9876 Alfreds Futterkiste, 030-1928 Table 10.5: Scenario 2, no change tracking with no identity resolution Third, letâ€™s compare the same set of actions using no tracking with identity resolution. Once an entity is loaded into the data context, underlying changes are not reflected and only one copy exists. No local entity changes are tracked, so SaveChanges does nothing. Actions and states for scenario 3 are illustrated in Table 10.6: Action Entities in data context Row in database Query for customers in Germany Alfreds Futterkiste, 030-7432 Alfreds Futterkiste, 030-7432 Change telephone in database Alfreds Futterkiste, 030-7432 Alfreds Futterkiste, 030-9876 Query for customers starting with A Alfreds Futterkiste, 030-7432 Alfreds Futterkiste, 030-9876 Query for customers in Germany Alfreds Futterkiste, 030-7432 Alfreds Futterkiste, 030-9876 Change telephone in local entity Alfreds Futterkiste, 030-1928 Alfreds Futterkiste, 030-9876 Save changes Alfreds Futterkiste, 030-1928 Alfreds Futterkiste, 030-9876 Table 10.6: Scenario 3, no change tracking with identity resolution Lazy loading for no tracking queries In EF Core 7 or earlier, if you enable no tracking, then you cannot use the lazy loading pattern. If you try, then you will see the following exception at runtime: Unhandled exception. System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Infrastructure. DetachedLazyLoadingWarning': An attempt was made to lazy-load navigation 'Category' on a detached entity of type 'ProductProxy'. Lazy loading is not supported for detached entities or entities that are loaded with 'AsNoTracking'. This exception can be suppressed or logged by passing event ID 'CoreEventId.DetachedLazyLoadingWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'. 