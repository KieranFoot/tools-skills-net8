Chapter 8 333 3. In the Northwind.WebApi.Client.Mvc project, in Program.cs, import the namespace for work- ing with HTTP headers, as shown in the following code: using System.Net.Http.Headers; // To use MediaTypeWithQualityHeaderValue. 4. In Program.cs, before the call to builder.Build(), add statements to configure an HTTP client factory to call the web service, as shown in the following code: builder.Services.AddHttpClient(name: "Northwind.WebApi.Service", configureClient: options => { options.BaseAddress = new("https://localhost:5081/"); options.DefaultRequestHeaders.Accept.Add( new MediaTypeWithQualityHeaderValue( "application/json", 1.0)); }); 5. In the Controllers folder, in HomeController.cs, import the namespace for the entity models, as shown in the following code: using Northwind.EntityModels; // To use Product. 6. In HomeController.cs, add statements to store the registered HTTP client factory in a private readonly field, as shown highlighted in the following code: private readonly ILogger<HomeController> _logger; private readonly IHttpClientFactory _httpClientFactory; public HomeController(ILogger<HomeController> logger, IHttpClientFactory httpClientFactory) { _logger = logger; _httpClientFactory = httpClientFactory; } 7. In HomeController.cs, add an asynchronous action method named Products that will use the HTTP factory to request products whose name contains a value entered as an optional name parameter in a custom MVC route, as shown in the following code: [Route("home/products/{name?}")] public async Task<IActionResult> Products(string? name) { HttpClient client = _httpClientFactory.CreateClient( name: "Northwind.WebApi.Service"); HttpRequestMessage request = new( 