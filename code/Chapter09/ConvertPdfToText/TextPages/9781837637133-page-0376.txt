Chapter 8 343 Creating a rate-limited console client Now we can create a console app that will be a client to the web service: 1. Use your preferred code editor to add a new console app to the Chapter08 solution named Northwind.WebApi.Client.Console. In the Northwind.WebApi.Client.Console project, treat warnings as errors, globally and 2. statically import the System.Console class, and add a reference to the entity models project, as shown in the following markup: <ItemGroup> <ProjectReference Include="..\..\Chapter03\Northwind.Common. EntityModels .SqlServer\Northwind.Common.EntityModels.SqlServer.csproj" /> </ItemGroup> 3. Build the Northwind.WebApi.Client.Console project at the command prompt or terminal to bin folder. compile the referenced project and copy its assembly to the appropriate In the Northwind.WebApi.Client.Console project, add a new class file named Program. 4. Helpers.cs. Program.Helpers.cs, add statements to define a method for the partial Program class to 5. In write some text in a foreground color, as shown in the following markup: partial class Program { private static void WriteInColor(string text, ConsoleColor foregroundColor) { ConsoleColor previousColor = ForegroundColor; ForegroundColor = foregroundColor; Write(text); ForegroundColor = previousColor; } } 6. In Program.cs, delete the existing statements. Add statements to prompt the user for a client name to identify it, and then create an HTTP client to make a request to get the first page of products from the web service once per second until the user presses Ctrl + C to stop the con- sole app, as shown in the following code: using Northwind.EntityModels; // To use Product. using System.Net.Http.Json; // To use ReadFromJsonAsync<T> method. Write("Enter a client name or press Enter: "); string? clientName = ReadLine(); 