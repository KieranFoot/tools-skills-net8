Chapter 15 697 Getting entities into a component by calling the web service Now, we can add the functionality to the entity component to call the web service: 1. In the Northwind.Blazor project, in its project file, add a package reference for QuickGrid, as shown in the following markup: <ItemGroup> <PackageReference Include= "Microsoft.AspNetCore.Components.QuickGrid" Version="8.0.0" /> </ItemGroup> 2. Build the project to restore packages. Program.cs, import the namespace to work with HTTP headers, as shown in the following 3. In code: using System.Net.Http.Headers; // To use MediaTypeWithQualityHeaderValue. 4. In the Northwind.Blazor project, in Program.cs, before the call to the builder.Build(), add statements to configure an HTTP client factory to call the web service, as shown in the following code: builder.Services.AddHttpClient(name: "Northwind.Blazor.Service", configureClient: options => { options.BaseAddress = new("https://localhost:5153/"); options.DefaultRequestHeaders.Accept.Add( new MediaTypeWithQualityHeaderValue( "application/json", 1.0)); }); 5. In the Components folder, in _Imports.razor, import the namespaces to work with QuickGrid and serialize JSON, ensuring that the Blazor components we build do not need to import the namespaces individually, as shown in the following markup: @using Microsoft.AspNetCore.Components.QuickGrid @using System.Text.Json @* To use JsonSerializerOptions. *@ @using System.Text.Json.Serialization @* To use ReferenceHandler. *@ 6. In the Components\Pages folder, in Employees.razor, add statements to inject the HTTP client factory, and then use it to output a grid of either all employees or employees in the specific country, as shown highlighted in the following code: @rendermode InteractiveServer @page "/employees/{country?}" @inject IHttpClientFactory httpClientFactory <h1> 